import{_}from"./AppLayout-DaLgl7P0.js";import{s as P}from"./dialog.esm-BG_2X2zD.js";import{c as C,s as D,a as N}from"./column.esm-D28r8htC.js";import{s as T}from"./toolbar.esm-DNL8UzsP.js";import{i as E,j as b,o as g,e as f,a as e,b as s,w as u,k as d,v as a,m as U,t as y,g as k,f as x,c as M}from"./app-i7fskATj.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";console.log("Inicio");const S={data(){return console.log("PRIMER PASO"),{products:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,productos:{name:"",taxNumber:"",email:"",phone1:"",phone2:"",address1:"",address2:"",postCode:"",town:"",province:"",country:""},selectedProducts:[],filters:{},submitted:!1}},created(){console.log("Created"),this.filters={global:{value:null,matchMode:E.CONTAINS}}},mounted(){this.products=this.$page.props.companies},methods:{openNew(){console.log("OPEN NEW-------------------"),this.productos={},this.submitted=!1,this.productDialog=!0},hideDialog(){console.log("HIDE"),this.productDialog=!1,this.submitted=!1},saveProduct(){this.productos.id?this.updateProduct():b.post("/"+this.$page.props.type,this.productos).then(l=>{console.log(l),this.productDialog=!1,this.products.push(l.data.company)}).catch(l=>{console.log(l.response)})},editProduct(l){b.get("/"+this.$page.props.type+"/"+l.id+"/edit").then(o=>{this.productos=o.data.product,this.productDialog=!0}).catch(o=>{console.error("Error al obtener los datos del producto para editar:",o)})},updateProduct(){console.log("Update"+this.productos.name),b.put("/"+this.$page.props.type+"/"+this.productos.id,this.productos).then(l=>{const o=this.products.findIndex(p=>p.id===this.productos.id);o!==-1&&(this.products[o]=l.data.company),this.productDialog=!1}).catch(l=>{console.error("Error al actualizar la compañía:",l)})},confirmDeleteProduct(l){console.log("Confirm deletee"),this.product=l,this.deleteProductDialog=!0},deleteProduct(){console.log("DELETE"),this.products=this.products.filter(l=>l.id!==this.product.id),this.deleteProductDialog=!1,console.log(this.product.id),b.delete("/"+this.$page.props.type+"/"+this.product.id).then(l=>{console.log(l)}).catch(l=>{console.log(l.response)}),this.product={}},confirmDeleteSelected(){console.log("CONFIRM DELETE SELECTED"),this.deleteProductsDialog=!0},deleteSelectedProducts(){this.selectedProducts.forEach(l=>{b.delete("/"+this.$page.props.type+"/"+l.id).then(o=>{console.log("Producto eliminado:",l.id),this.products=this.products.filter(p=>p.id!==l.id)}).catch(o=>{console.error("Error al eliminar el producto:",o)})}),this.selectedProducts=[],this.deleteProductsDialog=!1},handleInfoButtonClick(l){this.$inertia.get("/"+this.$page.props.type+"/"+l)}}},q={class:"card"},A={class:"flex justify-between items-center mt-2"},I=e("h4",null,"Manage Companies",-1),L={class:"relative rounded-md shadow-sm w-1/4"},B=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),R={class:"grid gap-3 mb-6 md:grid-cols-2"},z=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Company name",-1),O=e("label",{for:"taxNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Tax number",-1),j={class:"mb-6"},F=e("label",{for:"address1",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Address 1",-1),Y={class:"grid gap-3 mb-6 md:grid-cols-2"},H=e("label",{for:"address2",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Address 2",-1),K=e("label",{for:"town",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Town",-1),W=e("label",{for:"province",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Province",-1),G=e("label",{for:"postCode",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Post code",-1),J=e("label",{for:"country",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Country",-1),Q=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email address",-1),X=e("label",{for:"phone1",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Phone",-1),Z=e("label",{for:"phone2",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Mobile phone",-1),$={class:"grid gap-3 md:grid-cols-1 justify-items-end"},ee={type:"submit",class:"text-white bg-blue-600 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},oe={class:"confirmation-content"},te=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),re={key:0},le={class:"confirmation-content"},se=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),de={key:0};function ae(l,o,p,be,t,i){const n=C,w=T,c=D,v=N,m=P;return g(),f("div",null,[e("div",q,[s(w,{class:"mb-4 border border-slate-200 ..."},{start:u(()=>[s(n,{label:"New",icon:"pi pi-plus",severity:"success",class:"mr-2 success-button",onClick:i.openNew},null,8,["onClick"]),s(n,{label:"Delete",icon:"pi pi-trash",severity:"danger",class:"danger-button",onClick:i.confirmDeleteSelected,disabled:!t.selectedProducts||!t.selectedProducts.length},null,8,["onClick","disabled"])]),_:1}),s(v,{ref:"dt",value:t.products,selection:t.selectedProducts,"onUpdate:selection":o[1]||(o[1]=r=>t.selectedProducts=r),dataKey:"id",paginator:!0,rows:10,filters:t.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},{header:u(()=>[e("div",A,[I,e("div",L,[d(e("input",{type:"search",class:"block w-full h-11 rounded-md border-0 py-1.5 pl-10 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm","onUpdate:modelValue":o[0]||(o[0]=r=>t.filters.global.value=r),placeholder:"Search..."},null,512),[[a,t.filters.global.value]]),B])])]),default:u(()=>[s(c,{selectionMode:"multiple",exportable:!1,class:"datetable checkbox"}),s(c,{field:"name",header:"Name",sortable:"",class:"dateTable"}),s(c,{field:"taxNumber",header:"Tax Number",sortable:"",class:"dateTable"}),s(c,{field:"phone1",header:"Phone",sortable:"",class:"dateTable"}),s(c,{field:"email",header:"Email",sortable:"",class:"dateTable"}),s(c,{field:"town",header:"Town",sortable:"",class:"dateTable"}),s(c,{exportable:!1,class:"dateTable"},{body:u(r=>[s(n,{icon:"pi pi-eye",outlined:"",rounded:"",class:"mr-2 info-button",onClick:h=>i.handleInfoButtonClick(r.data.id)},null,8,["onClick"]),s(n,{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2 edit-button",onClick:h=>i.editProduct(r.data)},null,8,["onClick"]),s(n,{icon:"pi pi-trash",outlined:"",rounded:"",class:"simpleDelete-button",severity:"danger",onClick:h=>i.confirmDeleteProduct(r.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"])]),s(m,{visible:t.productDialog,"onUpdate:visible":o[15]||(o[15]=r=>t.productDialog=r),header:t.productos.id?"Modify company":"Create company",id:"titleCompany",modal:!0,class:"p-fluid"},{default:u(()=>[e("form",{style:{width:"800px"},onSubmit:o[14]||(o[14]=U((...r)=>i.saveProduct&&i.saveProduct(...r),["prevent"]))},[e("div",R,[e("div",null,[z,d(e("input",{type:"text",id:"name","onUpdate:modelValue":o[2]||(o[2]=r=>t.productos.name=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Company name",required:""},null,512),[[a,t.productos.name]])]),e("div",null,[O,d(e("input",{type:"text",id:"taxNumber","onUpdate:modelValue":o[3]||(o[3]=r=>t.productos.taxNumber=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Tax number",required:""},null,512),[[a,t.productos.taxNumber]])])]),e("div",j,[e("div",null,[F,d(e("input",{type:"text",id:"address1","onUpdate:modelValue":o[4]||(o[4]=r=>t.productos.address1=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Address",required:""},null,512),[[a,t.productos.address1]])])]),e("div",Y,[e("div",null,[H,d(e("input",{type:"text",id:"address2","onUpdate:modelValue":o[5]||(o[5]=r=>t.productos.address2=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Address line 2"},null,512),[[a,t.productos.address2]])]),e("div",null,[K,d(e("input",{type:"text",id:"town","onUpdate:modelValue":o[6]||(o[6]=r=>t.productos.town=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Town",required:""},null,512),[[a,t.productos.town]])]),e("div",null,[W,d(e("input",{type:"text",id:"province","onUpdate:modelValue":o[7]||(o[7]=r=>t.productos.province=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Province",required:""},null,512),[[a,t.productos.province]])]),e("div",null,[G,d(e("input",{type:"text",id:"postCode","onUpdate:modelValue":o[8]||(o[8]=r=>t.productos.postCode=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Post code",pattern:"^\\d+$",required:""},null,512),[[a,t.productos.postCode]])]),e("div",null,[J,d(e("input",{type:"text",id:"country","onUpdate:modelValue":o[9]||(o[9]=r=>t.productos.country=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Country",required:""},null,512),[[a,t.productos.country]])]),e("div",null,[Q,d(e("input",{type:"email",id:"email","onUpdate:modelValue":o[10]||(o[10]=r=>t.productos.email=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"info@mycompany.com",required:""},null,512),[[a,t.productos.email]])]),e("div",null,[X,d(e("input",{type:"tel",id:"phone1","onUpdate:modelValue":o[11]||(o[11]=r=>t.productos.phone1=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Phone",pattern:"^\\+\\d{1,3}\\s?\\d{1,14}$",required:""},null,512),[[a,t.productos.phone1]])]),e("div",null,[Z,d(e("input",{type:"tel",id:"phone2","onUpdate:modelValue":o[12]||(o[12]=r=>t.productos.phone2=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Mobile phone",pattern:"^\\+\\d{1,3}\\s?\\d{1,14}$"},null,512),[[a,t.productos.phone2]])])]),e("div",$,[e("div",null,[e("button",{class:"mr-3 text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",text:"",onClick:o[13]||(o[13]=(...r)=>i.hideDialog&&i.hideDialog(...r))},"Close"),e("button",ee,y(t.productos.id?"Modify":"Save"),1)])])],32)]),_:1},8,["visible","header"]),s(m,{visible:t.deleteProductDialog,"onUpdate:visible":o[17]||(o[17]=r=>t.deleteProductDialog=r),style:{width:"450px"},header:"Confirm",modal:!0},{footer:u(()=>[s(n,{label:"No",icon:"pi pi-times",text:"",onClick:o[16]||(o[16]=r=>t.deleteProductDialog=!1)}),s(n,{label:"Yes",icon:"pi pi-check",text:"",onClick:i.deleteProduct},null,8,["onClick"])]),default:u(()=>[e("div",oe,[te,l.product?(g(),f("span",re,[k("Are you sure you want to delete "),e("b",null,y(l.product.name),1),k("?")])):x("",!0)])]),_:1},8,["visible"]),s(m,{visible:t.deleteProductsDialog,"onUpdate:visible":o[19]||(o[19]=r=>t.deleteProductsDialog=r),style:{width:"450px"},header:"Confirm",modal:!0},{footer:u(()=>[s(n,{label:"No",icon:"pi pi-times",text:"",onClick:o[18]||(o[18]=r=>t.deleteProductsDialog=!1)}),s(n,{label:"Yes",icon:"pi pi-check",text:"",onClick:i.deleteSelectedProducts},null,8,["onClick"])]),default:u(()=>[e("div",le,[se,t.productos?(g(),f("span",de,"Are you sure you want to delete the selected products?")):x("",!0)])]),_:1},8,["visible"])])}const ie=V(S,[["render",ae]]),ue=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," My customers ",-1),ne={class:"py-12"},ce={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},pe={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},xe={__name:"Index",setup(l){return(o,p)=>(g(),M(_,{title:"Dashboard"},{header:u(()=>[ue]),default:u(()=>[e("div",ne,[e("div",ce,[e("div",pe,[s(ie)])])])]),_:1}))}};export{xe as default};
