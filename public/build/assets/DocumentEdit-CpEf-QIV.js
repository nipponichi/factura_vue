import{s as D,a as T}from"./toolbar.esm-CsxbURg2.js";import{a as V,b as S,d as P,c as x,s as F}from"./column.esm-CaO8puhj.js";import{o as m,e as p,a as e,b as n,w as a,t as s,g as r,F as w,h as j,j as U,n as _,l as v,x as I,v as C,f as b,z as A,A as L}from"./app-DZQ7GVqp.js";import{_ as E}from"./AppLayout-DbXcUE_u.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const d=l=>(A("data-v-e86fd02c"),l=l(),L(),l),R={class:"no-imprimir"},M={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},q={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},O={class:"card"},Y={class:"select flex flex-col md:flex-row justify-between mb-4"},Q={class:"flex justify-start md:justify-end mb-3 md:mb-0"},H={class:"relative inline-block w-50"},K=d(()=>e("i",{class:"pi pi-plus mr-2"},null,-1)),G={class:"relative inline-block w-50 ml-2"},J=["disabled"],W=d(()=>e("i",{class:"pi pi-plus mr-2"},null,-1)),X={class:"flex items-center ml-2"},Z={for:"link-checkbox",class:"ms-2 mr-2 text-sm font-medium text-gray-900 dark:text-gray-300"},ee={class:"flex justify-end"},te={class:"relative inline-block w-50 ml-2"},se=["disabled"],oe=d(()=>e("i",{class:"pi pi-file-export mr-2"},null,-1)),le={class:"relative inline-block w-50 ml-2"},ie=["disabled"],ne=d(()=>e("i",{class:"pi pi-file-pdf mr-2"},null,-1)),ae={class:"relative inline-block w-50 ml-2"},de=d(()=>e("i",{class:"pi pi-upload mr-2"},null,-1)),re=d(()=>e("hr",{class:"linea-grosor"},null,-1)),ce={class:"selector flex flex-col md:flex-row justify-between items-start mt-4 ml-12"},ue={class:"w-64 h-32 mb-3 md:mb-0 border rounded-lg overflow-hidden relative bg-gray-100 mr-0 md:mr-4"},me=["src"],pe={class:"absolute top-0 left-0 right-0 bottom-0 w-full block cursor-pointer flex items-center justify-center"},he=d(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-camera",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"0",y:"0",width:"24",height:"24",stroke:"none"}),e("path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2"}),e("circle",{cx:"12",cy:"13",r:"3"})],-1)),be={class:"grid md:grid-cols-1 text-sm gap-y-1 mr-28"},fe={class:"flex items-center"},ye={class:"font-semibold mr-3"},ge={class:"text-gray-700"},ve={class:"flex items-center"},_e={class:"font-semibold mr-3"},Ce={class:"selector flex flex-col md:flex-row justify-between mt-6 ml-12"},we={class:"showCompany"},$e=d(()=>e("div",{class:"flex justify-center"},null,-1)),ke={class:"grid md:grid-cols-1 text-m gap-y-1"},De={class:"flex items-center"},Te={class:"font-semibold mr-3"},Ve={class:"text-gray-700"},Se={class:"flex items-center"},Pe={class:"font-semibold mr-3"},xe={class:"text-gray-700"},Fe={class:"flex items-center"},je={class:"font-semibold mr-3"},Ue={class:"text-gray-700"},Ie={class:"flex items-center"},Ae={class:"font-semibold mr-3"},Le={class:"text-gray-700"},Ee={class:"flex items-center"},Ne=d(()=>e("br",null,null,-1)),Re=d(()=>e("br",null,null,-1)),Me={class:"showCustomer",style:{width:"21rem"}},qe={class:"grid md:grid-cols-1 text-m gap-y-1"},ze={class:"flex items-center"},Be={class:"font-semibold mr-2"},Oe={class:"text-gray-700"},Ye={class:"flex items-center"},Qe={class:"font-semibold mr-2"},He={class:"text-gray-700"},Ke={class:"flex items-center"},Ge={class:"font-semibold mr-2"},Je={class:"text-gray-700"},We={class:"flex items-center"},Xe={class:"font-semibold mr-2"},Ze={class:"text-gray-700"},et={class:"flex items-center"},tt=d(()=>e("br",null,null,-1)),st=d(()=>e("br",null,null,-1)),ot={class:"flex items-center justify-between"},lt={class:"flex items-center"},it=d(()=>e("div",{class:"flex-grow"},null,-1)),nt={class:"relative rounded-md shadow-sm"},at=["placeholder"],dt=d(()=>e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),rt={class:"flex justify-end mt-4 pr-4"},ct={class:"flex justify-end mt-4 pr-4 mb-4"},ut={class:"totals-container w-1/3"},mt={class:"totals bg-gray-100 p-4 rounded-md"},pt={class:"totals-item flex justify-between"},ht={class:"text-gray-600"},bt={class:"totals-item flex justify-between"},ft={class:"text-gray-600"},yt={class:"totals-item flex justify-between"},gt={class:"text-gray-600"},vt={for:"name",class:"block text-sm font-medium text-gray-900 dark:text-white"},_t={key:0,class:"flex align-items-center"},Ct={class:"flex align-items-center"},wt={for:"name",class:"block text-sm font-medium text-gray-900 dark:text-white"},$t={key:0,class:"flex align-items-center"},kt={class:"flex align-items-center"},Dt={for:"name",class:"block text-sm font-medium text-gray-900 dark:text-white"},Tt={key:0,class:"flex align-items-center"},Vt={class:"flex align-items-center"},St={for:"name",class:"block text-sm font-medium text-gray-900 dark:text-white"},Pt={key:0,class:"flex align-items-center"},xt={class:"flex align-items-center"},Ft={class:"confirmation-content"},jt=d(()=>e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ut={key:0},It={class:"confirmation-content"},At=d(()=>e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Lt={key:0},Et={class:"imprimir"},Nt={class:"invoice"},Rt={class:"invoiceHeader flex justify-end mb-6 mt-6"},Mt={class:"invoiceDetails flex justify-end text-right"},qt={class:"mr-5"},zt={class:"company-customer"},Bt={class:"company"},Ot={class:"name"},Yt={class:"taxNumber"},Qt={class:"address"},Ht=d(()=>e("br",null,null,-1)),Kt=d(()=>e("br",null,null,-1)),Gt={class:"contact"},Jt={class:"customer"},Wt={class:"name"},Xt={class:"taxNumber"},Zt={class:"address"},es=d(()=>e("br",null,null,-1)),ts=d(()=>e("br",null,null,-1)),ss={class:"contact"},os={class:"tablaImprimir"},ls={class:"totals"},is={class:"flex justify-end mt-4 pr-4 mb-4"},ns={class:"totals-container w-1/3"},as={class:"totals p-4 rounded-md"},ds={class:"totals-item flex justify-between"},rs={class:"mr-4"},cs=d(()=>e("hr",null,null,-1)),us={class:"totals-item flex justify-between"},ms={class:"mr-4"},ps=d(()=>e("hr",null,null,-1)),hs={class:"totals-item flex justify-between total"},bs={class:"mr-4"},fs={props:["documents","concepts","company","customer"],data(){return{fecha:"",fechaFormateada:"",isDisabled:!1,showTable:!1,taxOptions:[{label:"0%",value:0},{label:"4%",value:4},{label:"5%",value:5},{label:"7%",value:7},{label:"8%",value:8},{label:"10%",value:10},{label:"16%",value:16},{label:"18%",value:18},{label:"21%",value:21}],imageUrl:"https://placehold.co/300x300/e2e8f0/e2e8f0",companies:null,customers:null,types:[],series:[],serie:"",productDialog:!1,documentDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,products:[],selectedCompany:[],selectedCustomer:[],selectedType:[],selectedSerie:[],selectedProducts:[],filters:{},submitted:!1,myDocument:{number:"",company_id_company:"",company_id_customer:"",documents_type_id:"",documents_series_id:"",date:"",amount:"",totalTax:"",subTotal:"",paid:!1,concept:[]}}},computed:{subtotal(){return this.products.reduce((l,t)=>l+t.quantity*t.price,0)},totalIVA(){return this.products.reduce((l,t)=>l+t.quantity*t.price*t.tax/100,0)},totalConIVA(){return this.subtotal+this.totalIVA}},created(){this.filters={global:{value:null,matchMode:U.CONTAINS}};const l=new Date,t=l.getFullYear(),i=(l.getMonth()+1).toString().padStart(2,"0"),c=l.getDate().toString().padStart(2,"0");this.fecha=`${t}-${i}-${c}`},mounted(){this.products=this.concepts;for(let l=0;l<this.products.length;l++)this.products[l].tax=parseFloat(this.concepts[l].tax);this.myDocument=this.documents,this.myDocument.concept=[],this.selectedCompany=this.company,this.selectedCustomer=this.customer,this.selectedType.name=this.documents.document_type_name,this.selectedType.id=this.documents.documents_type_id,this.selectedSerie.id=this.documents.documents_series_id,this.selectedSerie.serie=this.documents.document_series_serie,this.selectedSerie.number=this.documents.document_counter,this.fecha=this.documents.date,this.fetchCompanies(),this.fetchDocuments()},methods:{fetchCompanies(){axios.get("/companies-invoice").then(l=>{this.companies=l.data.companies}).catch(l=>{console.error("Error fetching phone data:",l)})},handleCompanySelection(){this.selectedCustomer=[],axios.get("/customers/"+this.selectedCompany.id).then(l=>{this.customers=l.data.customers}).catch(l=>{console.error("Error fetching phone data:",l)})},fetchDocuments(){axios.get("/documents-type").then(l=>{this.types=l.data.types}).catch(l=>{console.error("Error fetching phone data:",l)})},handleTypeSelection(){this.selectedSerie=[],axios.get("/documents-serie/"+this.selectedType.id+"/"+this.selectedCompany.id).then(l=>{this.series=l.data.series}).catch(l=>{console.error("Error fetching phone data:",l)})},selectCompany(){this.productDialog=!0},selectDocument(){this.documentDialog=!0},openFileInput(){this.$refs.fileInput.click()},handleFileChange(l){const t=l.target.files[0],i=new FileReader;i.onload=()=>{this.imageUrl=i.result},i.readAsDataURL(t)},addRow(){let l={product:"",quantity:0,price:0,tax:21.5,priceTax:0,total:0,id:this.products.length+1};this.products.push(l)},updateDocument(){console.log("serie id update: "+this.selectedSerie.id),this.myDocument.number=this.selectedSerie.serie+this.selectedSerie.number,console.log("numero factura update: "+this.myDocument.number),this.myDocument.company_id_company=this.selectedCompany.id,this.myDocument.company_id_customer=this.selectedCustomer.id,this.myDocument.documents_type_id=this.selectedType.id,this.myDocument.documents_series_id=this.selectedSerie.id,this.myDocument.date=this.fecha,this.myDocument.subTotal=this.subtotal.toFixed(2),this.myDocument.totalTax=this.totalIVA.toFixed(2),this.myDocument.amount=this.totalConIVA.toFixed(2),console.log("concept: "+this.myDocument.concept),this.products.forEach(l=>{console.log("description update producto: "+l.description);let t={reference:l.reference,description:l.description,quantity:l.quantity,price:l.price,tax:l.tax,total:this.calculateTotal(l).toFixed(2)};this.myDocument.concept.push(t),console.log("description update con objeto: "+this.myDocument.concept[0].description)}),console.log("description update"),axios.put("/documents/"+this.myDocument.id,{documentData:this.myDocument}).then(l=>{console.log("ha pasao")}).catch(l=>{console.error("Error al guardar los datos del documento:",l.response),console.log("ha mal pasao")})},resetData(){location.reload()},calculateTotal(l){return l.quantity*l.price},confirmDeleteProduct(l){this.product=l,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(l=>l.id!==this.product.id),this.product=null,this.deleteProductDialog=!1},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.selectedProducts.forEach(l=>{this.products=this.products.filter(t=>t.id!==l.id)}),this.selectedProducts=[],this.deleteProductsDialog=!1},exportToPDF(){this.showTable=!this.showTable,window.print()}}},ys=Object.assign(fs,{__name:"DocumentEdit",setup(l){return(t,i)=>{const c=V,$=D,h=S,f=P,y=x,k=F,g=T;return m(),p(w,null,[e("div",R,[n(E,{title:"My company"},{header:a(()=>[e("h2",M,s(t.$t("Invoice")),1)]),default:a(()=>[e("div",q,[e("div",z,[e("div",B,[e("div",O,[e("div",Y,[e("div",Q,[e("div",H,[e("button",{type:"button",class:"px-4 py-2 bg-blue-500 text-white rounded flex items-center justify-between",onClick:i[0]||(i[0]=o=>t.selectCompany())},[e("span",null,[K,r(" "+s(t.$t("Companies")),1)])])]),e("div",G,[e("button",{type:"button",class:_(["px-4 py-2 bg-blue-500 text-white rounded flex items-center justify-between",{"opacity-50":!this.selectedCompany.id}]),onClick:i[1]||(i[1]=o=>t.selectDocument()),disabled:!this.selectedCompany.id},[e("span",null,[W,r(" "+s(t.$t("Document type")),1)])],10,J)]),e("div",X,[e("label",Z,s(t.$t("Mark as paid")),1),v(e("input",{id:"link-checkbox",type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=o=>this.myDocument.paid=o),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[I,this.myDocument.paid]])])]),e("div",ee,[e("div",te,[e("button",{type:"button",class:_(["px-4 py-2 bg-purple-500 text-white rounded flex items-center justify-between",{"opacity-50":t.isDisabled}]),onClick:i[3]||(i[3]=o=>t.exportDocument()),disabled:t.isDisabled},[e("span",null,[oe,r(" "+s(t.$t("Export")),1)])],10,se)]),e("div",le,[e("button",{type:"button",class:_(["px-4 py-2 bg-red-500 text-white rounded flex items-center justify-between",{"opacity-50":t.isDisabled}]),onClick:i[4]||(i[4]=o=>t.exportToPDF()),disabled:t.isDisabled},[e("span",null,[ne,r(" "+s(t.$t("PDF")),1)])],10,ie)]),e("div",ae,[e("button",{type:"button",class:"px-4 py-2 bg-green-500 text-white rounded flex items-center justify-between",onClick:i[5]||(i[5]=o=>t.updateDocument())},[e("span",null,[de,r(" "+s(t.$t("Save")),1)])])])])]),re,e("div",ce,[e("div",ue,[e("img",{alt:"Company Logo",src:t.imageUrl,class:"object-cover w-full h-48 cursor-pointer",onClick:i[6]||(i[6]=(...o)=>t.openFileInput&&t.openFileInput(...o))},null,8,me),e("div",pe,[e("button",{type:"button",style:{"background-color":"rgba(255, 255, 255, 0.65)"},class:"hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 text-sm border border-gray-300 rounded-lg shadow-sm",onClick:i[8]||(i[8]=(...o)=>t.openFileInput&&t.openFileInput(...o))},[he,e("input",{type:"file",ref:"fileInput",onChange:i[7]||(i[7]=(...o)=>t.handleFileChange&&t.handleFileChange(...o)),style:{display:"none"}},null,544)])])]),e("div",be,[e("div",fe,[e("div",ye,"Nº "+s(this.selectedType.name)+":",1),e("div",ge,s(this.selectedSerie.serie),1),v(e("input",{type:"text",class:"border border-gray-300 rounded-md ml-3 px-3 py-2 focus:outline-none focus:border-blue-400","onUpdate:modelValue":i[9]||(i[9]=o=>this.selectedSerie.number=o)},null,512),[[C,this.selectedSerie.number]])]),e("div",ve,[e("div",_e,s(t.$t("Date"))+":",1),e("div",null,[v(e("input",{type:"date","onUpdate:modelValue":i[10]||(i[10]=o=>t.fecha=o),onChange:i[11]||(i[11]=(...o)=>t.cambiarFormatoFecha&&t.cambiarFormatoFecha(...o)),class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-400"},null,544),[[C,t.fecha]])])])])]),e("div",Ce,[e("div",we,[$e,e("div",ke,[e("div",De,[e("div",Te,s(t.$t("Company name"))+":",1),e("div",Ve,s(this.selectedCompany.name),1)]),e("div",Se,[e("div",Pe,s(t.$t("Tax Number"))+":",1),e("div",xe,s(this.selectedCompany.tax_number),1)]),e("div",Fe,[e("div",je,s(t.$t("Phone"))+":",1),e("div",Ue,s(this.selectedCompany.phone),1)]),e("div",Ie,[e("div",Ae,s(t.$t("Email"))+":",1),e("div",Le,s(this.selectedCompany.email),1)]),e("div",Ee,[e("p",null,[e("strong",null,s(t.$t("Address"))+":",1),r(" "+s(t.selectedCompany.address),1),Ne,r(" "+s(t.selectedCompany.post_code)+", "+s(t.selectedCompany.town),1),Re,r(" "+s(t.selectedCompany.province)+", "+s("(")+" "+s(t.selectedCompany.country)+" "+s(")"),1)])])])]),e("div",Me,[e("div",qe,[e("div",ze,[e("div",Be,s(t.$t("Customer name"))+":",1),e("div",Oe,s(this.selectedCustomer.name),1)]),e("div",Ye,[e("div",Qe,s(t.$t("Tax number"))+":",1),e("div",He,s(this.selectedCustomer.tax_number),1)]),e("div",Ke,[e("div",Ge,s(t.$t("Phone"))+":",1),e("div",Je,s(this.selectedCustomer.phone),1)]),e("div",We,[e("div",Xe,s(t.$t("Email"))+":",1),e("div",Ze,s(this.selectedCustomer.email),1)]),e("div",et,[e("p",null,[e("strong",null,s(t.$t("Address"))+":",1),r(" "+s(t.selectedCustomer.address),1),tt,r(" "+s(t.selectedCustomer.post_code)+", "+s(t.selectedCustomer.town),1),st,r(" "+s(t.selectedCustomer.province)+", "+s("(")+" "+s(t.selectedCustomer.country)+" "+s(")"),1)])])])])]),n($,{class:"mb-4 mt-8 border border-slate-200 ..."},{start:a(()=>[e("div",ot,[e("div",lt,[n(c,{label:t.$t("Concept"),icon:"pi pi-plus",severity:"success",class:"mr-2 success-button",onClick:t.addRow},null,8,["label","onClick"]),n(c,{label:t.$t("Delete"),icon:"pi pi-trash",severity:"danger",class:"danger-button",onClick:t.confirmDeleteSelected,disabled:!t.selectedProducts||!t.selectedProducts.length},null,8,["label","onClick","disabled"])]),it])]),end:a(()=>[e("div",nt,[v(e("input",{type:"search",class:"block w-full h-11 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm","onUpdate:modelValue":i[12]||(i[12]=o=>t.filters.global.value=o),placeholder:t.$t("Search...")},null,8,at),[[C,t.filters.global.value]]),dt])]),_:1}),n(k,{ref:"dt",value:t.products,selection:t.selectedProducts,"onUpdate:selection":i[13]||(i[13]=o=>t.selectedProducts=o),dataKey:"id",class:"",paginator:!0,rows:10,filters:t.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:`${t.$t("Showing")} {first} ${t.$t("of")} {last} ${t.$t("of")} {totalRecords} ${t.$t("products")}`},{default:a(()=>[n(h,{selectionMode:"multiple",exportable:!1,class:"datetable checkbox"}),n(h,{field:"reference",header:t.$t("Reference"),sortable:"",class:"dateTable"},{body:a(o=>[n(f,{class:"input",placeholder:t.$t("Reference"),modelValue:o.data.reference,"onUpdate:modelValue":u=>o.data.reference=u},null,8,["placeholder","modelValue","onUpdate:modelValue"])]),_:1},8,["header"]),n(h,{field:"product",header:t.$t("Description"),sortable:"",class:"dateTable"},{body:a(o=>[n(f,{class:"input",placeholder:t.$t("Description"),modelValue:o.data.description,"onUpdate:modelValue":u=>o.data.description=u},null,8,["placeholder","modelValue","onUpdate:modelValue"])]),_:1},8,["header"]),n(h,{field:"quantity",header:t.$t("Quantity"),sortable:"",class:"dateTable"},{body:a(o=>[n(f,{class:"input input-short",modelValue:o.data.quantity,"onUpdate:modelValue":u=>o.data.quantity=u},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["header"]),n(h,{field:"price",header:t.$t("Price"),sortable:"",class:"dateTable"},{body:a(o=>[n(f,{class:"input input-short",modelValue:o.data.price,"onUpdate:modelValue":u=>o.data.price=u},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["header"]),n(h,{field:"tax",header:t.$t("Tax (%)"),sortable:"",class:"dateTable"},{body:a(o=>[n(y,{class:"input-short",modelValue:o.data.tax,"onUpdate:modelValue":u=>o.data.tax=u,options:t.taxOptions,optionLabel:"label",optionValue:"value"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1},8,["header"]),n(h,{field:"total",header:t.$t("Total"),sortable:"",class:"dateTable"},{body:a(o=>[n(f,{class:"input input-short",value:t.calculateTotal(o.data),readonly:""},null,8,["value"])]),_:1},8,["header"]),n(h,{exportable:!1,class:"dateTable"},{body:a(o=>[n(c,{icon:"pi pi-trash",outlined:"",rounded:"",class:"simpleDelete-button",severity:"danger",onClick:u=>t.confirmDeleteProduct(o.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters","currentPageReportTemplate"]),e("div",rt,[n(c,{label:t.$t("Concept"),icon:"pi pi-plus",severity:"success",class:"success-button",onClick:i[14]||(i[14]=o=>t.addRow())},null,8,["label"])])]),e("div",ct,[e("div",ut,[e("div",mt,[e("div",pt,[e("span",ht,s(t.$t("Subtotal (excluding Tax)"))+":",1),e("span",null,s(t.subtotal.toFixed(2))+"€",1)]),e("div",bt,[e("span",ft,s(t.$t("Total Tax"))+":",1),e("span",null,s(t.totalIVA.toFixed(2))+"€",1)]),e("div",yt,[e("span",gt,s(t.$t("Total (with IVA)"))+":",1),e("span",null,s(t.totalConIVA.toFixed(2))+"€",1)])])])]),n(g,{visible:t.productDialog,"onUpdate:visible":i[17]||(i[17]=o=>t.productDialog=o),style:{width:"450px"},header:t.$t("Select companies"),modal:!0,onChange:t.handleCompanySelection},{default:a(()=>[e("label",vt,s(t.$t("Select your company"))+":",1),n(y,{modelValue:t.selectedCompany,"onUpdate:modelValue":i[15]||(i[15]=o=>t.selectedCompany=o),options:t.companies,filter:"",optionLabel:"name",class:"w-full h-11 md:w-64rem mb-4 bg-gray-50 border border-gray-300 focus:border-blue-500 focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500",onChange:t.handleCompanySelection},{value:a(o=>[o.value?(m(),p("div",_t,[e("div",null,s(o.value.name),1)])):b("",!0)]),option:a(o=>[e("div",Ct,[e("div",null,s(o.option.name),1)])]),_:1},8,["modelValue","options","onChange"]),e("label",wt,s(t.$t("Select a customer"))+":",1),n(y,{modelValue:t.selectedCustomer,"onUpdate:modelValue":i[16]||(i[16]=o=>t.selectedCustomer=o),options:this.customers,filter:"",optionLabel:"name",class:"w-full h-11 md:w-64rem mb-4 bg-gray-50 border border-gray-300 focus:border-blue-500 focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"},{value:a(o=>[o.value?(m(),p("div",$t,[e("div",null,s(o.value.name),1)])):b("",!0)]),option:a(o=>[e("div",kt,[e("div",null,s(o.option.name),1)])]),_:1},8,["modelValue","options"])]),_:1},8,["visible","header","onChange"]),n(g,{visible:t.documentDialog,"onUpdate:visible":i[20]||(i[20]=o=>t.documentDialog=o),style:{width:"450px"},header:t.$t("Select document"),modal:!0,onChange:t.handleTypeSelection},{default:a(()=>[e("label",Dt,s(t.$t("Select document type")),1),n(y,{modelValue:t.selectedType,"onUpdate:modelValue":i[18]||(i[18]=o=>t.selectedType=o),options:t.types,filter:"",optionLabel:"name",class:"w-full h-11 md:w-64rem mb-4 bg-gray-50 border border-gray-300 focus:border-blue-500 focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500",onChange:t.handleTypeSelection},{value:a(o=>[o.value?(m(),p("div",Tt,[e("div",null,s(o.value.name),1)])):b("",!0)]),option:a(o=>[e("div",Vt,[e("div",null,s(o.option.name),1)])]),_:1},8,["modelValue","options","onChange"]),e("label",St,s(t.$t("Select document serie")),1),n(y,{modelValue:t.selectedSerie,"onUpdate:modelValue":i[19]||(i[19]=o=>t.selectedSerie=o),options:this.series,filter:"",optionLabel:"serie",class:"w-full h-11 md:w-64rem mb-4 bg-gray-50 border border-gray-300 focus:border-blue-500 focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"},{value:a(o=>[o.value?(m(),p("div",Pt,[e("div",null,s(o.value.serie),1)])):b("",!0)]),option:a(o=>[e("div",xt,[e("div",null,s(o.option.serie),1)])]),_:1},8,["modelValue","options"])]),_:1},8,["visible","header","onChange"]),n(g,{visible:t.deleteProductDialog,"onUpdate:visible":i[22]||(i[22]=o=>t.deleteProductDialog=o),style:{width:"450px"},header:t.$t("Confirm"),modal:!0},{footer:a(()=>[n(c,{label:"No",icon:"pi pi-times",text:"",onClick:i[21]||(i[21]=o=>t.deleteProductDialog=!1)}),n(c,{label:"Yes",icon:"pi pi-check",text:"",onClick:t.deleteProduct},null,8,["onClick"])]),default:a(()=>[e("div",Ft,[jt,t.companies?(m(),p("span",Ut,[r(s(t.$t("Are you sure you want to delete")),1),e("b",null,s(t.companies.name),1),r("?")])):b("",!0)])]),_:1},8,["visible","header"]),n(g,{visible:t.deleteProductsDialog,"onUpdate:visible":i[24]||(i[24]=o=>t.deleteProductsDialog=o),style:{width:"450px"},header:t.$t("Confirm"),modal:!0},{footer:a(()=>[n(c,{label:"No",icon:"pi pi-times",text:"",onClick:i[23]||(i[23]=o=>t.deleteProductsDialog=!1)}),n(c,{label:"Yes",icon:"pi pi-check",text:"",onClick:t.deleteSelectedProducts},null,8,["onClick"])]),default:a(()=>[e("div",It,[At,t.companies?(m(),p("span",Lt,s(t.$t("Are you sure you want to delete the selected concepts?")),1)):b("",!0)])]),_:1},8,["visible","header"])])])])]),_:1})]),e("div",Et,[e("div",Nt,[e("div",Rt,[e("div",Mt,[e("div",qt,[e("p",null,s(t.selectedType.name)+":",1),e("p",null,s(t.$t("Date"))+":",1)]),e("div",null,[e("p",null,s(t.selectedSerie.serie)+" "+s(t.selectedSerie.number),1),e("p",null,s(t.fecha),1)])])]),e("div",zt,[e("div",Bt,[e("h2",null,s(t.$t("Company")),1),e("p",Ot,s(t.selectedCompany.name),1),e("div",Yt,[e("p",null,s(t.selectedCompany.tax_number),1)]),e("div",Qt,[e("p",null,[r(s(t.selectedCompany.address),1),Ht,r(" "+s(t.selectedCompany.post_code)+", "+s(t.selectedCompany.town),1),Kt,r(" "+s(t.selectedCompany.province)+", "+s("(")+" "+s(t.selectedCompany.country)+" "+s(")"),1)])]),e("div",Gt,[e("p",null,s(t.selectedCompany.phone),1),e("p",null,s(t.selectedCompany.email),1)])]),e("div",Jt,[e("h2",null,s(t.$t("Customer")),1),e("p",Wt,s(t.selectedCustomer.name),1),e("div",Xt,[e("p",null,s(t.selectedCustomer.tax_number),1)]),e("div",Zt,[e("p",null,[r(s(t.selectedCustomer.address),1),es,r(" "+s(t.selectedCustomer.post_code)+", "+s(t.selectedCustomer.town),1),ts,r(" "+s(t.selectedCustomer.province)+", "+s("(")+" "+s(t.selectedCustomer.country)+" "+s(")"),1)])]),e("div",ss,[e("p",null,s(t.selectedCustomer.phone),1),e("p",null,s(t.selectedCustomer.email),1)])])]),e("table",os,[e("thead",null,[e("tr",null,[e("th",null,s(t.$t("Reference")),1),e("th",null,s(t.$t("Description")),1),e("th",null,s(t.$t("Quantity")),1),e("th",null,s(t.$t("Price")),1),e("th",null,s(t.$t("Tax (%)")),1),e("th",null,s(t.$t("Total")),1)])]),e("tbody",null,[(m(!0),p(w,null,j(t.products,o=>(m(),p("tr",{key:o.id},[e("td",null,s(o.reference),1),e("td",null,s(o.description),1),e("td",null,s(o.quantity),1),e("td",null,s(o.price),1),e("td",null,s(o.tax),1),e("td",null,s(t.calculateTotal(o)),1)]))),128))])]),e("div",ls,[e("div",is,[e("div",ns,[e("div",as,[e("div",ds,[e("span",rs,s(t.$t("Subtotal (excluding Tax)"))+":",1),e("span",null,s(t.subtotal.toFixed(2))+"€",1)]),cs,e("div",us,[e("span",ms,s(t.$t("Total Tax"))+":",1),e("span",null,s(t.totalIVA.toFixed(2))+"€",1)]),ps,e("div",hs,[e("span",bs,s(t.$t("Total (with IVA)"))+":",1),e("span",null,s(t.totalConIVA.toFixed(2))+"€",1)])])])])])])])],64)}}}),$s=N(ys,[["__scopeId","data-v-e86fd02c"]]);export{$s as default};
